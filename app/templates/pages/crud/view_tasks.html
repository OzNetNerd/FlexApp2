{% extends "base/create_view_edit/_create_view_edit.html" %}
{% set tabs = [
    {'tab_name': 'About'},
    {'tab_name': 'Details'}
] %}
{% import 'base/macros/render_form_fields.html' as field_macros with context %}

{% block view_template_content %}
<form method="post">
  <!-- Container for all tab panes -->
  <div class="tab-content" id="formTabsContent">

    <!-- Tab Pane: About -->
    <div class="tab-pane fade show active" id="tab-about">
      <div class="card shadow-sm border-0 mb-4">
        <div class="card-header bg-white">
          <h5 class="h6 text-primary fw-semibold mb-0">Task Info</h5>
        </div>
        <div class="card-body">
          <div class="row g-3">
            {{ field_macros.render_field({
                "entry_name": "title",
                "label": "Title",
                "type": "text",
                "value": entity.title,
                "required": true,
                "options": []
             }, read_only=true) }}
            {{ field_macros.render_field({
                "entry_name": "description",
                "label": "Description",
                "type": "textarea",
                "value": entity.description,
                "required": false,
                "options": []
             }, read_only=true) }}
            {{ field_macros.render_field({
                "entry_name": "due_date",
                "label": "Due Date",
                "type": "date",
                "value": entity.due_date,
                "required": false,
                "options": []
             }, read_only=true) }}
            {{ field_macros.render_field({
                "entry_name": "status",
                "label": "Status",
                "type": "select",
                "value": entity.status,
                "required": true,
                "options": [
                    {"value": "Pending", "label": "Pending"},
                    {"value": "In Progress", "label": "In Progress"},
                    {"value": "Completed", "label": "Completed"}
                ]
             }, read_only=true) }}
            {{ field_macros.render_field({
                "entry_name": "priority",
                "label": "Priority",
                "type": "select",
                "value": entity.priority,
                "required": false,
                "options": [
                    {"value": "Low", "label": "Low"},
                    {"value": "Medium", "label": "Medium"},
                    {"value": "High", "label": "High"}
                ]
             }, read_only=true) }}
          </div>
        </div>
      </div>
    </div>

    <!-- Tab Pane: Details -->
    <div class="tab-pane fade" id="tab-details">
      <div class="card shadow-sm border-0 mb-4">
        <div class="card-header bg-white">
          <h5 class="h6 text-primary fw-semibold mb-0">Linked Entity</h5>
        </div>
        <div class="card-body">
          <div class="row g-3">
            {{ field_macros.render_field({
                "entry_name": "notable_type",
                "label": "Linked To (Type)",
                "type": "hidden",
                "value": entity.notable_type or "User",
                "required": false,
                "options": []
             }, read_only=true) }}
            {{ field_macros.render_field({
                "entry_name": "notable_id",
                "label": "Linked To (ID)",
                "type": "hidden",
                "value": entity.notable_id or "1",
                "required": false,
                "options": []
             }, read_only=true) }}
          </div>
        </div>
      </div>
    </div>

  </div>
</form>
{% endblock view_template_content %}