<!-- START TEMPLATE: view.html -->

{% extends "pages/page_templates/_create_view_edit_template.html" %}

{% block create_view_edit_content %}
  <div class="tab-content">
    {% for tab in ui %}
      <div class="tab-pane fade {% if loop.first %}show active{% endif %}"
           id="tab-{{ tab.tab_name | lower | replace(' ', '-') }}"
           role="tabpanel"
           aria-labelledby="tab-{{ tab.tab_name | lower | replace(' ', '-') }}-tab">
        {% for section in tab.sections %}
          <h5 class="mt-3">{{ section.section_name }}</h5>
          {% for entry in section.entries %}
            {{ macros.render_field(entry, read_only=True) }}
          {% endfor %}
        {% endfor %}
      </div>
    {% endfor %}
  </div>

  {% if activity_notes is defined and activity_notes|length > 0 %}
    {% from "macros/render_notes.html" import render_notes %}
    {{ render_notes(activity_notes) }}
  {% endif %}
<!--
  <form id="deleteForm" action="{{ request.path }}/delete" method="POST" style="display:none;"></form>

  <script>
    window.addEventListener('DOMContentLoaded', function() {
      const deleteBtn = document.querySelector('.btn-danger');
      if (deleteBtn) {
        deleteBtn.addEventListener('click', function(e) {
          e.preventDefault();
          if (confirm('Are you sure you want to delete this item?')) {
            document.getElementById('deleteForm').submit();
          }
        });
      }
    });
  </script> -->
{% endblock %}
<!-- END TEMPLATE: view.html -->