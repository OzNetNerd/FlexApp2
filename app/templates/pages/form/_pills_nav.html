{#
  ------------------------------------------------------------------------------
  File: _pills_nav.html
  Purpose:
    Renders Bootstrap pill-style navigation and tab content areas based on
    a `tabs` variable containing Tab objects with sections and entries.

  Inputs:
    - tabs: list of Tab objects with:
        - tab_name: str
        - sections: list of TabSection, each with:
            - section_name: str
            - entries: list of TabEntry, each with:
                - entry_name, label, type, required, readonly

  Requirements:
    - macros.render_field must be available
    - Bootstrap 5 required for tabs
  ------------------------------------------------------------------------------
#}

{% import "macros/form_fields/render_field.html" as macros %}

{% if tabs|length > 1 %}
  <div class="btn-group mb-3" role="tablist">
    {% for tab in tabs %}
      <button class="btn btn-sm btn-outline-primary {% if loop.first %}active{% endif %}"
              id="tab-{{ tab.tab_name | lower | replace(' ', '-') }}-tab"
              data-bs-toggle="pill"
              data-bs-target="#tab-{{ tab.tab_name | lower | replace(' ', '-') }}"
              type="button"
              role="tab"
              aria-controls="tab-{{ tab.tab_name | lower | replace(' ', '-') }}"
              aria-selected="{{ 'true' if loop.first else 'false' }}">
        {{ tab.tab_name }}
      </button>
    {% endfor %}
  </div>
{% endif %}
