{# macros/layout.html - Layout components for page structure #}

{# Card component for encapsulating content #}
{% macro card(title=None, footer=None, header_class="", body_class="", footer_class="", card_class="shadow-sm") %}
<div class="card mb-4 {{ card_class }}">
  {% if title %}
    <div class="card-header {{ header_class }}">
      <h5 class="mb-0">{{ title }}</h5>
    </div>
  {% endif %}
  <div class="card-body {{ body_class }}">
    {{ caller() }}
  </div>
  {% if footer %}
    <div class="card-footer {{ footer_class }}">
      {{ footer }}
    </div>
  {% endif %}
</div>
{% endmacro %}

{# Tab navigation tabs #}
{% macro tabs_navigation(tabs) %}
  <ul class="nav nav-tabs mb-3" id="tabs-nav" role="tablist">
    {% for tab in tabs %}
      <li class="nav-item" role="presentation">
        <button class="nav-link {% if loop.first %}active{% endif %}"
                id="tab-{{ tab.id | default(tab.name | lower | replace(' ', '-')) }}-tab"
                data-bs-toggle="tab"
                data-bs-target="#tab-{{ tab.id | default(tab.name | lower | replace(' ', '-')) }}"
                type="button"
                role="tab"
                aria-controls="tab-{{ tab.id | default(tab.name | lower | replace(' ', '-')) }}"
                aria-selected="{% if loop.first %}true{% else %}false{% endif %}">
          {% if tab.icon %}
            <i class="fas fa-{{ tab.icon }} me-1"></i>
          {% endif %}
          {{ tab.name }}
        </button>
      </li>
    {% endfor %}
  </ul>
{% endmacro %}

{# Tab content container #}
{% macro tabs_content() %}
  <div class="tab-content">
    {{ caller() }}
  </div>
{% endmacro %}

{# Individual tab pane #}
{% macro tab_pane(id, active=false) %}
  <div class="tab-pane fade {% if active %}show active{% endif %}"
       id="tab-{{ id }}"
       role="tabpanel"
       aria-labelledby="tab-{{ id }}-tab">
    {{ caller() }}
  </div>
{% endmacro %}

{# Section within a tab #}
{% macro section(title, section_class="") %}
  <div class="section mb-4 {{ section_class }}">
    {% if title %}
      <h5 class="section-title mb-3">{{ title }}</h5>
    {% endif %}
    <div class="section-content">
      {{ caller() }}
    </div>
  </div>
{% endmacro %}