{# Define a reusable recent_activity widget in your widgets.html or macros file #}
{% macro activity_item(icon, bg_color, message, time) %}
  <li class="list-group-item border-0 px-0 py-3">
    <div class="d-flex align-items-center">
      <div class="activity-icon {{ bg_color }} text-white rounded-circle p-2 me-3">
        <i class="{{ icon }}"></i>
      </div>
      <div class="flex-grow-1">
        <p class="mb-0">{{ message | safe }}</p>
        <small class="text-muted">{{ time }}</small>
      </div>
    </div>
  </li>
{% endmacro %}

{% macro recent_activity(activities, title="Recent Activity", view_all_url="#") %}
<div class="row mb-4">
  <div class="col-12">
    <div class="card border-0 shadow-sm">
      <div class="card-header bg-white d-flex justify-content-between align-items-center">
        <h2 class="section-card-heading">{{ title }}</h2>
        <a href="{{ view_all_url }}" class="btn btn-sm btn-outline-primary">View All</a>
      </div>
      <div class="card-body pt-0">
        <ul class="list-group list-group-flush">
          {% for activity in activities %}
            {{ activity_item(
              activity.icon,
              activity.bg_color,
              activity.message,
              activity.time
            ) }}
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>
{% endmacro %}