{% macro render_field(field, read_only=false, column_class="col-md-6") %}
  <div class="{{ column_class }} mb-3">
    <label for="{{ field.id }}" class="form-label fw-semibold">
      {{ field.label.text }}
      {% if field.flags.required and not read_only %}
        <span class="text-danger">*</span>
      {% endif %}
    </label>

    {% if read_only %}
      {% if field.type == 'BooleanField' %}
        <div class="form-check">
          <input type="checkbox" class="form-check-input" disabled {% if field.data %}checked{% endif %}>
          <label class="form-check-label">{{ field.label.text }}</label>
        </div>
      {% elif field.type == 'SelectField' %}
        <select class="form-select" disabled>
          {% for choice in field.choices %}
            <option {% if field.data == choice[0] %}selected{% endif %}>
              {{ choice[1] }}
            </option>
          {% endfor %}
        </select>
      {% elif field.type == 'TextAreaField' %}
        <textarea class="form-control" disabled>{{ field.data or '' }}</textarea>
      {% elif field.type == 'DateTimeField' or field.type == 'DateField' %}
        <input type="text" class="form-control" value="{{ field.data }}" disabled>
      {% else %}
        <input type="text" class="form-control" value="{{ field.data or '' }}" disabled>
      {% endif %}
    {% else %}
      {{ field(class="form-control" if field.type != 'BooleanField' else "form-check-input") }}
      
      {% if field.errors %}
        <div class="invalid-feedback d-block">
          {% for error in field.errors %}
            {{ error }}
          {% endfor %}
        </div>
      {% endif %}
    {% endif %}

    {% if field.description and not read_only %}
      <div class="form-text text-muted">{{ field.description }}</div>
    {% endif %}
  </div>
{% endmacro %}