<!-- START TEMPLATE: _create_view_edit.html -->

{#
 create_view_edit/components/_create_view_edit.html - Standardized CRUD form container template

 This template provides the primary layout for creating, viewing, and editing data records.
 It implements a consistent card-based interface with conditional components based on
 the context (create, view, or edit mode).

 Context variables:
   - ui: If present, indicates a pills interface should be used instead of tabs
   - tabs: Array of tab definitions with:
       - tab_name: Display name for the tab
       - template: Path to template to use for this tab (optional)
       - sections: Array of section data if using _section_layout (optional)
   - read_only: Boolean that controls whether edit controls are displayed
   - entity: The data entity being worked with (containing id attribute)
#}

{% extends "base/core/_base.html" %}

{% block content %}
<div class="card border-0 shadow-sm">
  <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
      {% include 'base/content_pane/_header_heading.html' %}
    </div>
    <div class="d-flex gap-2">
      {% include 'base/content_pane/_header_buttons.html' %}
    </div>
  </div>
  <div class="card-body">
    <form method="POST">
      {% if ui %}
        {% block create_view_edit_content %}
          {% include 'base/common/_pills_nav_content.html' %}
        {% endblock %}
      {% else %}
        <!-- Tab Navigation -->
        {% include 'base/content_pane/_header_tabs.html' %}

        <!-- Tab Content -->
        <div class="tab-content" id="formTabsContent">
          {% for tab in tabs %}
            <div class="tab-pane fade {% if loop.first %}show active{% endif %}"
                 id="tab-{{ tab.tab_name | lower | replace(' ', '-') }}"
                 role="tabpanel"
                 aria-labelledby="tab-{{ tab.tab_name | lower | replace(' ', '-') }}-tab">

              {% if tab.template %}
                {% include tab.template %}
              {% else %}
                {% include 'base/content_pane/_section_layout.html' with context %}
              {% endif %}

            </div>
          {% endfor %}
        </div>
      {% endif %}

      {% if not read_only %}
        {% include 'base/common/_footer_buttons.html' %}
      {% endif %}
    </form>
  </div>
</div>

{% block scripts %}
<script type="module" src="/static/js/pages/create_view_edit.js"></script>
{% endblock %}
{% endblock %}

<!-- END TEMPLATE: _create_view_edit.html -->