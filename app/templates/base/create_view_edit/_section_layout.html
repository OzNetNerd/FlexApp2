<!-- START TEMPLATE: _section_layout.html -->

{# Import the field macros #}
{% import 'base/macros/render_form_fields.html' as field_macros with context %}

{% if tabs %}
  <div class="tab-content" id="formTabsContent">
    {%- for tab in tabs %}
      <div class="tab-pane fade {% if loop.first %}show active{% endif %}"
           id="tab-{{ tab.tab_name | lower | replace(' ', '-') }}"
           role="tabpanel"
           aria-labelledby="tab-{{ tab.tab_name | lower | replace(' ', '-') }}-tab"
           data-section-names="{{ tab.sections|map(attribute='section_name')|list|tojson }}">
        {%- for section in tab.sections %}
          <div class="card shadow-sm border-0 mb-4">
            <div class="card-header bg-white">
              <h5 class="h6 text-primary fw-semibold mb-0">
                {{ section.section_name or 'General' }}
              </h5>
            </div>
            <div class="card-body">
              <div class="row g-3">
                {%- for field in section.entries %}
                  {{ field_macros.render_field({
                    "entry_name": field.entry_name,
                    "label": field.label,
                    "type": field.type,
                    "value": field.value,
                    "required": field.required,
                    "options": field.options
                  }, read_only=read_only) }}
                {%- endfor %}
              </div>
            </div>
          </div>
        {%- endfor %}
      </div>
    {%- endfor %}
  </div>
<!-- END TEMPLATE: _section_layout.html -->