<!-- START TEMPLATE: _head.html -->
{# ------------------------------------------------------------------------------
  File: _head.html | Purpose: Defines <head> with metadata, CSS, fonts, and logging
  Inputs:
    - title: Optional, defaults to "CRM"
  External:
    - Google Fonts (Poppins)
    - Bootstrap 5.3.2, Bootstrap Icons 1.10.5, Font Awesome 6.4.2
    - AG Grid (community), Custom CSS
  Notes:
    - Uses CDNs for external libraries
    - Uses url_for for local assets
    - Includes logger for asset load debug
------------------------------------------------------------------------------ #}

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ title or "CRM" }}</title>
  <!-- Google Fonts: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Bootstrap Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <!-- AG Grid Styles -->
  <link href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-grid.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-theme-alpine.css" rel="stylesheet" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
  <!-- Head Debug Logger -->
  <script type="module">
    import log from '/static/js/logger.js';
    log("info", "_head.html", "head", "ðŸŽ¯ Page title set", "{{ (title or "CRM") }}");
    log("debug", "_head.html", "head", "ðŸ“¦ Head assets loaded");
  </script>
  <!-- Toast Module Loader: Always load toasts.js and expose showToast globally -->
  <script type="module">
    import { showToast } from "{{ url_for('static', filename='js/toasts.js') }}";
    window.showToast = showToast;
  </script>
</head>
<!-- END TEMPLATE: _head.html -->
