{% extends "layouts/base.html" %}
{% import "macros/sections.html" as sections %}
{% import "macros/buttons.html" as buttons %}
{% import "macros/forms.html" as forms %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<!-- Heading Section -->
{{ sections.heading_section(
  heading_text=title,
  subtext='Enter the required information below'
) }}

<!-- Form Section -->
<div class="row mb-4">
  <div class="col-12">
    <div class="card border-0 shadow-sm">
      <div class="card-header bg-white d-flex justify-content-between align-items-center">
        <h2 class="section-card-heading">{{ title }}</h2>
      </div>
      <div class="card-body">
        <form method="POST" action="{{ submit_url }}" id="entity-form">
          {{ form.csrf_token }}

          <div class="row">
            {% for field in form if field.name != 'csrf_token' %}
              {{ forms.render_field(field) }}
            {% endfor %}
          </div>

          <div class="mt-4">
            {{ buttons.icon_button(type="submit", class="btn btn-primary", icon="save", text="Save", form="entity-form") }}
            {{ buttons.icon_button(href=url_for(entity_base_route + '.index'), class="btn btn-secondary", icon="arrow-left", text="Cancel") }}
            {% if id %}
              {{ buttons.icon_button(href=url_for(entity_base_route + '.view', entity_id=id), class="btn btn-info", icon="eye", text="View") }}
            {% endif %}
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}