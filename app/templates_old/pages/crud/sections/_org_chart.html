{#
  ------------------------------------------------------------------------------
  File: old_readonly_summary.html
  Purpose:
    Renders a simple read-only summary of assigned users and the associated
    company. Used when displaying a record in view mode.

  Inputs (expected in context):
    - item: Model instance containing:
        â€¢ item.users: List[User] â€“ Each user must have an `email` attribute
        â€¢ item.company: Company â€“ Must have a `name` attribute

  Features:
    - Bootstrap `.form-control-plaintext` style for clean read-only formatting
    - Highlights values in `.text-success` for visual emphasis
    - Logs both user and company summaries to console via logger.js

  Notes:
    - Fallback placeholder "â€”" is used when no users or company are found
    - `userEmails` is logged as an array or "â€”" depending on availability
  ------------------------------------------------------------------------------
#}

<!-- ğŸ‘¥ Users (Read-Only) -->
<div class="mb-3">
  <label class="form-label">Users</label>
  <p class="form-control-plaintext">
    <span class="text-success fw-semibold">
      {{ item.users | map(attribute='email') | join(', ') if item.users else 'â€”' }}
    </span>
  </p>
</div>

<!-- ğŸ¢ Company (Read-Only) -->
<div class="mb-3">
  <label class="form-label">Company</label>
  <p class="form-control-plaintext">
    <span class="text-success fw-semibold">
      {{ item.company.name if item.company else 'â€”' }}
    </span>
  </p>
</div>

<!-- ğŸ§¾ Logging Read-Only Values -->
<script type="module">
  import log from '{{ url_for('static', filename='js/core/logger.js') }}';

  const userEmails = {{ item.users | map(attribute='email') | list | tojson | safe }};
  const companyName = {{ item.company.name | tojson | safe if item.company else '"â€”"' }};

  log("info", "old_readonly_summary.html", "render", "ğŸ‘¥ User summary", userEmails.length ? userEmails : "â€”");
  log("info", "old_readonly_summary.html", "render", "ğŸ¢ Company summary", companyName);
</script>
